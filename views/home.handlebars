<h1>Welcome to Meadowlark Travel</h1>

{{#if loginfo}}
  <h2>You'are now logged in as {{loginfo.username}}</h2>
{{else}}
  <h2>Please <a href="/login">login</a> to check your profile</h2>
{{/if}}
{{#if status}}
    {{status}}
{{/if}}

<p>Wecome to Meadowlark Travel!  Please sign up to our newsletter using either:</p>
<ul>
  <li><a href="/newsletter-signup">Old-school form submission</a>.</li>
  <li><a href="/newsletter">Async form submission (recommended)</a>.</li>
</ul>

<p>Also, please enter our Vacation Photo Contest using either:</p>
<ul>
  <li><a href="/contest/vacation-photo">Old-school form submission</a>.</li>
  <li><a href="/contest/vacation-photo-ajax">Async form submission (recommended)</a>.</li>
  <li><a href="/vacations">Check available vacations</a>.</li>
</ul>

<p>You can click one of following links for misc or other interesting information</p>
<ul>
  <li><a href="/about">About</a></li>
  <li><a href="/headers">view headers</a></li>
  <li><a href="/json">view json</a></li>
  <li><a href="/greeting">greeting</a></li>
  <li><a href="/page-with-specials">Page with Specials</a></li>
  <li><a href="/heros/marvel/ironman">Ironman</a></li>
  <li><a href="/heros/dc/superman">Superman</a></li>
  <li><a href="/text">send simple Text</a></li>
  <li><a href="/thank-you">Render thank you page</a></li>
  <li><a href="/contact-error">Render contact-error</a></li>
  <li><a href="/section-test">Render section-test</a></li>
</ul>
<p> Please also check our tours information</p>
<ul>
  <li><a href="/api/tours">View Tours</a></li>
</ul>


<p>(Note to reader: we would never actually give users silly choices this on a real website...this is just for you to see the difference!)</p>

<h2>Your Shopping Cart</h2>
<ul>
  {{#each cart.errors}}
    <div class="alert alert-dismissible alert-danger">
      <button type="button" class="close" 
        data-dismiss="alert" aria-hidden="true">&times;</button>
      <strong>Error!</strong> {{.}}
    </div>
  {{/each}}
  {{#each cart.warnings}}
    <div class="alert alert-dismissible alert-warning">
      <button type="button" class="close" 
        data-dismiss="alert" aria-hidden="true">&times;</button>
      <strong>Warning!</strong> {{.}}
    </div>
  {{/each}}
  <table class="table">
    <thead>
      <tr>
        <th>Name</th>
        <th class="text-right">Price</th>
        <th class="text-right">Guests</th>
      </tr>
    </thead>
    <tbody>
      {{#each cart.items}}
        <tr>
          <td>{{product.name}}</td>
          <td class="text-right">{{product.price}}</td>
          <td class="text-right">{{guests}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</ul>

<h2>Store</h2>
<p><i>To remove items, use negative numbers (in real life we would never design a UI like this!)</i></p>
<form action="/add-to-cart" method="POST">
<input type="hidden" name="_csrf" value="{{_csrfToken}}">
  <table class="table">
    <thead>
      <tr>
        <th>Name</th>
        <th class="text-right">Price</th>
        <th class="text-right">Guests</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{#each products}}
        <tr>
          <td>{{name}}</td>
          <td class="text-right">{{price}}</td>
          <td class="text-right"><input type="number" value="0" name="guests-{{id}}" /></td>
        </tr>
      {{/each}}
    </tbody>
  </table>
  <button type="submit" class="btn btn-primary">Add To Cart</button>
</form>

<p>To simulate a successful cart check-out, fill out the following form:</p>
<ul>
  <li><a href="/checkout">Checkout (with email feedback)</a>.</li>
</ul>


<ul>
  <li><a href="/REST/rest">Go to 3rd Party REST APIs</a>.</li>
</ul>
